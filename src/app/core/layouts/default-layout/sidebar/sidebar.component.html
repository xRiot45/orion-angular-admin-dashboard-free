<!-- Overlay -->
@if (isMobileOrTablet && isMobileOpen) {
  <div
    class="fixed inset-0 bg-black/50 z-40 transition-opacity duration-300"
    tabindex="0"
    (click)="toggleSidebar(false)"
    (keydown)="onOverlayKeydown($event)"
    aria-label="Close sidebar overlay"
  ></div>
}

<!-- Sidebar -->
<aside
  class="h-screen bg-[var(--color-foreground)] text-zinc-200 flex flex-col border-r border-zinc-800 p-2 transition-all duration-300 ease-in-out z-50"
  [class.fixed]="isMobileOrTablet"
  [class.relative]="!isMobileOrTablet"
  [class.w-80]="!isMobileOrTablet && !isCollapsed"
  [class.w-20]="!isMobileOrTablet && isCollapsed"
  [class.w-72]="isMobileOrTablet"
  [class.-translate-x-full]="isMobileOrTablet && !isMobileOpen"
  [class.translate-x-0]="isMobileOrTablet && isMobileOpen"
>
  <!-- Brand -->
  <sidebar-brand [isCollapsed]="isCollapsed" (toggleSidebar)="toggleSidebar()"></sidebar-brand>

  <!-- Header Sidebar -->
  <sidebar-header [isCollapsed]="isCollapsed" (onLogout)="onLogout()"></sidebar-header>

  <!-- Search -->
  @if (!isCollapsed && !isMobileOrTablet) {
    <sidebar-search></sidebar-search>
  }

  <!-- Menu -->
  <div class="flex-1 flex flex-col overflow-y-auto scrollbar-none">
    <sidebar-menu
      [isCollapsed]="isCollapsed"
      [openMenu]="openMenu"
      [toggle]="toggle.bind(this)"
    ></sidebar-menu>
  </div>

  <!-- Footer -->
  <!-- <sidebar-footer [isCollapsed]="isCollapsed" (toggleSidebar)="toggleSidebar()"></sidebar-footer> -->
</aside>
