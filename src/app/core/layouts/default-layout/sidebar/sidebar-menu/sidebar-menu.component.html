<div class="py-4 flex-1 space-y-2 overflow-y-auto scrollbar-none">
  <ng-container *ngFor="let group of navGroups">
    <!-- Group Title -->
    @if (group.groupTitle && !isCollapsed) {
      <span class="px-4 text-xs font-semibold text-zinc-500 mb-2">
        {{ group.groupTitle }}
      </span>
    }

    <nav class="px-2 space-y-2 text-sm">
      <ng-container *ngFor="let item of group.items">
        <!-- Menu Item -->
        <div>
          <button
            class="w-full flex items-center justify-between gap-2 py-3 px-5 rounded-md text-white font-medium tracking-wide text-md hover:bg-zinc-800 transition cursor-pointer"
            (click)="item.children ? toggle(item.title) : null"
            [class.justify-center]="isCollapsed"
          >
            <div class="flex items-center gap-2">
              @if (item.icon) {
                <iconify-icon
                  [icon]="item.icon"
                  width="20"
                  height="20"
                  class="text-zinc-300"
                ></iconify-icon>
              }

              @if (!isCollapsed) {
                <span class="text-zinc-300 text-xs">{{ item.title }}</span>
              }
            </div>
            @if (item.children && !isCollapsed) {
              <iconify-icon
                icon="mingcute:down-line"
                class="text-white transform transition-transform duration-300 ease-in-out"
                [class.rotate-180]="openMenu === item.title"
              ></iconify-icon>
            }
          </button>

          <!-- Submenu -->
          @if (item.children) {
            <div
              class="ml-8 mt-1 overflow-hidden transition-all duration-300 ease-in-out"
              [class.max-h-0]="openMenu !== item.title || isCollapsed"
              [class.max-h-96]="openMenu === item.title && !isCollapsed"
            >
              <div class="space-y-1 py-1">
                <button
                  *ngFor="let child of item.children"
                  class="w-full text-left px-5 py-3 text-md tracking-wide text-zinc-400 hover:text-white font-medium text-xs cursor-pointer"
                >
                  {{ child.title }}
                </button>
              </div>
            </div>
          }
        </div>
      </ng-container>
    </nav>
  </ng-container>
</div>
